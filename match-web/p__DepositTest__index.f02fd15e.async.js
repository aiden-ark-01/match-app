"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[194],{14006:function(ae,z,t){t.r(z),t.d(z,{default:function(){return _e}});var Q=t(97857),g=t.n(Q),J=t(13769),k=t.n(J),H=t(15009),s=t.n(H),K=t(99289),S=t.n(K),F=t(67294),X=t(90930),A=t(2774),u=t(71577),d=t(2453),f=t(5574),a=t.n(f),P=t(26884),l=t(64185),p=t(72269),M=t(7684),r=t(19515),Y=t(471),i=t(5302),n=t(85893),le=["defaultRender"];function re(q){var _=q;_<100&&(_=100);var W=Math.floor(_/10),c=Math.random()*(_-W)+W;return parseFloat(c.toFixed(2))}var U=function(_){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return function(c,C,I){var o=C.defaultRender,R=k()(C,le),B=typeof _=="string";return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(u.ZP,{style:{width:"100%"},onClick:function(){I.setFieldsValue({amount:String(B?re(W):_)})},children:_})})}},ie=function(_){var W=_.actionRef,c=F.useRef(null),C=F.useState(null),I=a()(C,2),o=I[0],R=I[1];F.useEffect(function(){o===null&&(0,Y.OS)({page:1,pageSize:1e3}).then(function(v){R(v.data.map(function(e){return{text:e.m_name,value:e.mid}}))})},[]);var B=F.useState(!1),j=a()(B,2),V=j[0],D=j[1],Z=F.useState(0),x=a()(Z,2),y=x[0],m=x[1],L=F.useState(null),h=a()(L,2),E=h[0],ge=h[1],se=function(){var v=S()(s()().mark(function e(T){var $,O;return s()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.prev=0,w.next=3,(0,M.zQ)(T);case 3:return O=w.sent,console.log("res",O),d.ZP.success("\u63D0\u4EA4\u6210\u529F"),($=W.current)===null||$===void 0||$.reload(),w.abrupt("return",!0);case 10:w.prev=10,w.t0=w.catch(0),w.t0.message?d.ZP.error(w.t0.message):d.ZP.error("\u63D0\u4EA4\u5931\u8D25");case 13:case"end":return w.stop()}},e,null,[[0,10]])}));return function(T){return v.apply(this,arguments)}}(),te=function(){var e,T=[100,200,500,1e3,2e3,5e3,String(re(1e3)),String(re(1e4)),String(re(1e5))][Math.floor(Math.random()*9)],$={user_name:(0,r.mP)(),m_order:(0,r.vT)(),kind:0,hask_key:"",name:(0,r.e9)(),amount:T,bank:(0,r.CG)(),cardNo_last5:(0,r.mA)().slice(-5),ip:(0,r.WC)(),device:(0,r.Se)()};return(e=c.current)===null||e===void 0||e.setFieldsValue($),$},Pe=function(){var v=S()(s()().mark(function e(T){var $,O,G,w;return s()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(b.prev=0,O=te(),o!==null){b.next=5;break}return d.ZP.error("\u8BF7\u5148\u9009\u62E9\u5546\u6237"),b.abrupt("return");case 5:G=o[Math.floor(Math.random()*o.length)].value,($=c.current)===null||$===void 0||$.setFieldsValue({mid:G}),w=new i.P({task:function(){var we=S()(s()().mark(function xe(){var ue;return s()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return O.mid=G,O.amount=+O.amount*100,ee.next=4,se(O);case 4:ue=ee.sent,O=te(),G=o[Math.floor(Math.random()*o.length)].value,console.log("res",ue);case 8:case"end":return ee.stop()}},xe)}));function Fe(){return we.apply(this,arguments)}return Fe}(),key:"polling",interval:y||1}),ge(w),T?w.start():E==null||E.destroy(),D(T),b.next=16;break;case 13:b.prev=13,b.t0=b.catch(0),console.log("error",b.t0);case 16:case"end":return b.stop()}},e,null,[[0,13]])}));return function(T){return v.apply(this,arguments)}}(),ye=[{title:"\u8BBE\u7F6E",valueType:"group",width:"xs",columns:[{title:"\u5546\u6237",valueType:"select",tooltip:"\u5982\u679C\u6CA1\u6709\u5546\u6237\uFF0C\u8BF7\u5148\u521B\u5EFA\u5546\u6237",dataIndex:"mid",width:"xs",colProps:{xs:10,md:4},formItemProps:{rules:[{required:!0,message:"\u5546\u6237\u5FC5\u9009"}]},request:function(){var v=S()(s()().mark(function T(){var $,O,G;return s()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,(0,Y.OS)({page:1,pageSize:1e3});case 2:return $=N.sent,O=$.data,G=O.map(function(b){return{text:b.m_name,value:b.mid}}),o===null&&R(G),N.abrupt("return",G);case 7:case"end":return N.stop()}},T)}));function e(){return v.apply(this,arguments)}return e}()},{title:"\u968F\u673A\u586B\u5199",width:"xs",colProps:{xs:7,md:3},renderFormItem:function(){return(0,n.jsx)(u.ZP,{style:{width:"100%"},onClick:te,children:"\u751F\u6210"})}},{title:"\u81EA\u52A8\u6D4B\u8BD5",tooltip:"\u5F00\u542F\u540E\uFF0C\u5C06\u4F1A\u81EA\u52A8\u8F6E\u8BE2\u63D0\u6B3E\u72B6\u6001,\u8F93\u5165\u95F4\u9694,\u5355\u4F4D\u79D2",width:"xs",colProps:{xs:10,md:4},renderFormItem:function(){return(0,n.jsx)(l.Z,{style:{width:"100%"},min:1,max:1e3,addonAfter:(0,n.jsx)(p.Z,{style:{width:"100%"},checked:V,onChange:function(T){Pe(T)}}),onChange:function(T){m(T?Number(T):1)}})}}]},{valueType:"group",title:"\u91D1\u989D",columns:[{width:"xs",colProps:{xs:5,md:3},renderFormItem:U(100)},{width:"xs",colProps:{xs:5,md:3},renderFormItem:U(200)},{width:"xs",colProps:{xs:5,md:3},renderFormItem:U(500)},{width:"xs",colProps:{xs:5,md:3},renderFormItem:U(1e3)},{width:"xs",colProps:{xs:5,md:3},renderFormItem:U(2e3)},{width:"xs",colProps:{xs:5,md:3},renderFormItem:U(5e3)},{width:"xs",colProps:{xs:6,md:3},renderFormItem:U("\u968F\u673A\u767E",1e3)},{width:"xs",colProps:{xs:6,md:3},renderFormItem:U("\u968F\u673A\u5343",1e4)},{width:"md",colProps:{xs:6,md:3},renderFormItem:U("\u968F\u673A\u4E07",1e5)}]},{title:"\u91D1\u989D",dataIndex:"amount",valueType:"digit",width:"xs",colProps:{xs:2,md:4},formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},transform:function(e){return{amount:e*100}}},{title:"\u2F64\u6237\u540D\u79F0",dataIndex:"user_name",valueType:"text",width:180,colProps:{xs:3,md:6},formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},fieldProps:{addonAfter:(0,n.jsx)(u.ZP,{type:"link",onClick:function(){var e;(e=c.current)===null||e===void 0||e.setFieldsValue({user_name:(0,r.mP)()})},children:"\u751F\u6210"})}},{title:"\u5546\u6237\u8BA2\u5355\u53F7",dataIndex:"m_order",valueType:"text",width:220,colProps:{xs:4,md:8},formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},fieldProps:{addonAfter:(0,n.jsx)(u.ZP,{type:"link",onClick:function(){var e;(e=c.current)===null||e===void 0||e.setFieldsValue({m_order:(0,r.vT)()})},children:"\u751F\u6210"})}},{title:"\u63D0\u6B3E\u7C7B\u578B",dataIndex:"kind",valueType:"select",width:80,colProps:{xs:2,md:4},valueEnum:new Map([[0,{text:"\u8F6C\u5361",value:0}]]),formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}},{title:"\u2F64\u6237\u94F6\u2F8F\u540D\u79F0",dataIndex:"bank",valueType:"text",width:250,colProps:{xs:4,md:8},formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},fieldProps:{addonAfter:(0,n.jsx)(u.ZP,{type:"link",onClick:function(){var e;(e=c.current)===null||e===void 0||e.setFieldsValue({bank:(0,r.CG)()})},children:"\u751F\u6210"})}},{title:"\u2F64\u6237\u94F6\u2F8F\u5361\u53F7",dataIndex:"cardNo_last5",tooltip:"\u2F64\u6237\u94F6\u2F8F\u5361\u53F7\u540E5\u4F4D",valueType:"digit",width:160,colProps:{xs:4,md:8},formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"},{max:5,message:"\u6700\u591A5\u4F4D\u6570"}]},fieldProps:{addonAfter:(0,n.jsx)(u.ZP,{type:"link",onClick:function(){var e;(e=c.current)===null||e===void 0||e.setFieldsValue({cardNo_last5:Math.floor(Math.random()*1e5)})},children:"\u751F\u6210"})}},{title:"\u2F64\u6237\u94F6\u2F8F\u5361\u4E3B\u59D3\u540D",dataIndex:"name",valueType:"text",width:180,colProps:{xs:3,md:6},formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},fieldProps:{addonAfter:(0,n.jsx)(u.ZP,{type:"link",onClick:function(){var e;(e=c.current)===null||e===void 0||e.setFieldsValue({name:(0,r.e9)()})},children:"\u751F\u6210"})}},{title:"ip",dataIndex:"ip",valueType:"text",width:225,colProps:{xs:4,md:8},fieldProps:{addonAfter:(0,n.jsx)(u.ZP,{type:"link",onClick:function(){var e;(e=c.current)===null||e===void 0||e.setFieldsValue({ip:(0,r.WC)()})},children:"\u751F\u6210"})}},{title:"device",dataIndex:"device",valueType:"text",width:200,colProps:{xs:3.5,md:7},fieldProps:{addonAfter:(0,n.jsx)(u.ZP,{type:"link",onClick:function(){var e;(e=c.current)===null||e===void 0||e.setFieldsValue({device:(0,r.Se)()})},children:"\u751F\u6210"})}},{title:"callback_url",dataIndex:"callback_url",valueType:"text",width:200,colProps:{xs:3,md:6},fieldProps:{addonAfter:(0,n.jsx)(u.ZP,{type:"link",onClick:function(){var e;(e=c.current)===null||e===void 0||e.setFieldsValue({callback_url:(0,r.WC)()})},children:"\u751F\u6210"})}}];return(0,n.jsx)(P.Z,{formRef:c,title:"\u65B0\u5EFA\u5B58\u6B3E\u8BA2\u5355",grid:!0,rowProps:{gutter:[16,0]},initialValues:{kind:0},trigger:(0,n.jsx)(u.ZP,{type:"primary",children:"\u521B\u5EFA"}),onFinish:se,submitter:{submitButtonProps:{disabled:V}},layoutType:"ModalForm",columns:ye},"modal")},oe=ie,de=t(94772),ne=t(43939),me=["defaultRender"],ce=function(_){var W=_.record,c=_.actionRef,C=F.useRef(null),I=F.useState(""),o=a()(I,2),R=o[0],B=o[1],j=function(){var Z=S()(s()().mark(function x(){var y,m,L=arguments;return s()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return y=L.length>0&&L[0]!==void 0?L[0]:10,E.prev=1,E.next=4,(0,r.Gh)();case 4:return m=E.sent,B(m),E.abrupt("return",m);case 9:E.prev=9,E.t0=E.catch(1),y>0?j(y-1):d.ZP.error("\u83B7\u53D6\u56FE\u7247\u5931\u8D25");case 12:case"end":return E.stop()}},x,null,[[1,9]])}));return function(){return Z.apply(this,arguments)}}();F.useEffect(function(){j()},[]);var V=[{title:"\u91CD\u65B0\u751F\u6210\u56FE\u7247",valueType:"group",width:"xs",columns:[{title:"\u968F\u673A\u586B\u5199",width:"xs",colProps:{xs:7,md:3},renderFormItem:function(){return(0,n.jsx)(u.ZP,{style:{width:"100%"},onClick:S()(s()().mark(function x(){var y,m;return s()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,j();case 2:m=h.sent,(y=C.current)===null||y===void 0||y.setFieldsValue({data:m});case 4:case"end":return h.stop()}},x)})),children:"\u751F\u6210"})}}]},{title:"\u56FE\u7247",dataIndex:"data",renderFormItem:function(x,y){var m=y.defaultRender,L=k()(y,me);return L.value?(0,n.jsx)(ne.Z,{src:L.value,alt:"img",width:100}):R?(0,n.jsx)(ne.Z,{src:R,alt:"img",width:100}):m(x)}}],D=function(){var Z=S()(s()().mark(function x(y){var m;return s()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,(0,M.SM)({data:y.data,m_order:W.m_order});case 3:return(m=c.current)===null||m===void 0||m.reload(),d.ZP.success("\u786E\u8BA4\u6210\u529F"),h.abrupt("return",!0);case 8:h.prev=8,h.t0=h.catch(0),d.ZP.error("\u786E\u8BA4\u5931\u8D25");case 11:case"end":return h.stop()}},x,null,[[0,8]])}));return function(y){return Z.apply(this,arguments)}}();return(0,n.jsx)(P.Z,{formRef:C,title:"\u65B0\u5EFA\u5B58\u6B3E\u8BA2\u5355",grid:!0,rowProps:{gutter:[16,0]},initialValues:{data:R},trigger:(0,n.jsx)(u.ZP,{type:"primary",children:"\u786E\u8BA4\u8BA2\u5355"}),onFinish:D,layoutType:"ModalForm",columns:V},"modal")},fe=ce,pe=["current"],he=["page"],ve=function(){var _=F.useRef(),W=[{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",valueType:"date",width:"10%",render:function(I,o){var R=(0,r.mr)(o.created_at*1e3);return(0,n.jsx)("span",{children:R})},search:{transform:function(I){var o=(0,r.ef)((0,r.TD)(I),!0);return{created_at:o}}}},{title:"\u8BA2\u5355\u53F7",dataIndex:"deposit_order",width:140,copyable:!0},{title:"\u7528\u6237\u540D",dataIndex:"user_name",width:100,copyable:!0},{title:"\u8BA2\u5355\u91D1\u989D",dataIndex:"amount",width:80,renderText:function(I){return"\xA5"+(I/100).toFixed(2)},search:!1},{title:"\u5546\u6237\u5355\u53F7",dataIndex:"m_order",width:120,copyable:!0},{title:"\u901A\u9053",dataIndex:"kind",width:80,valueType:"select",valueEnum:{0:"\u94F6\u884C\u5361"}},{title:"\u5206\u7EC4",dataIndex:"gid",width:50},{title:"\u72B6\u6001",dataIndex:"state",width:100,valueType:"select",valueEnum:new Map([[-4,{text:"\u5BA1\u6838\u672A\u901A\u8FC7",status:"Error"}],[-2,{text:"\u4ED8\u6B3E\u8D85\u65F6",status:"Error"}],[-1,{text:"\u4ED8\u6B3E\u53D6\u6D88",status:"Error"}],[1,{text:"\u7B49\u5F85\u786E\u8BA4\u6536\u6B3E",status:"Processing"}],[2,{text:"\u4ED8\u6B3E\u5B8C\u6210",status:"Success"}],[3,{text:"\u5BA1\u6838\u901A\u8FC7",status:"Success"}],[4,{text:"\u8865\u5355\u5B8C\u6210",status:"Success"}]])},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",width:100,render:function(I,o){return[o.state===1&&(0,n.jsx)(fe,{record:o,actionRef:_},"confirm"),(0,n.jsx)(u.ZP,{type:"default",size:"small",disabled:o.state!==1,onClick:S()(s()().mark(function R(){var B,j;return s()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,cancelDeposit(o.id);case 2:B=D.sent,B&&(d.ZP.success("\u64CD\u4F5C\u6210\u529F"),(j=_.current)===null||j===void 0||j.reload());case 4:case"end":return D.stop()}},R)})),children:"\u53D6\u6D88\u8BA2\u5355"},"cancel")]}}],c={title:"\u5B58\u6B3E\u8BA2\u5355",request:function(){var C=S()(s()().mark(function o(){var R,B,j,V,D,Z,x=arguments;return s()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return R=x.length>0&&x[0]!==void 0?x[0]:{},B=R.current,j=k()(R,pe),m.next=3,(0,de.Jd)(g()({page:B},j));case 3:return V=m.sent,D=V.page,Z=k()(V,he),console.log("res",Z),m.abrupt("return",g()(g()({},Z),{},{current:D}));case 8:case"end":return m.stop()}},o)}));function I(){return C.apply(this,arguments)}return I}(),columns:W};return(0,n.jsx)(X._z,{style:{width:"100%"},children:(0,n.jsx)(A.Z,{actionRef:_,request:c.request,rowKey:"id",search:{labelWidth:"auto"},dateFormatter:"string",headerTitle:c.title,columns:c.columns,toolBarRender:function(){return[(0,n.jsx)(oe,{actionRef:_},"create")]}})})},_e=ve},471:function(ae,z,t){t.d(z,{OS:function(){return S},TN:function(){return F},_z:function(){return X}});var Q=t(15009),g=t.n(Q),J=t(97857),k=t.n(J),H=t(99289),s=t.n(H),K=t(80854),S=function(){var A=s()(g()().mark(function u(d,f){var a,P,l,p;return g()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,K.request)("/api/platform/list",k()({method:"POST",headers:{"Content-Type":"text/plain"},data:d},f||{}));case 2:if(a=r.sent,P=a.data,l=a.code,p=a.msg,l===200){r.next=8;break}throw new Error(p);case 8:return r.abrupt("return",P);case 9:case"end":return r.stop()}},u)}));return function(d,f){return A.apply(this,arguments)}}(),F=function(){var A=s()(g()().mark(function u(d,f){var a,P,l,p;return g()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,K.request)("/api/platform/create",k()({method:"POST",headers:{"Content-Type":"text/plain"},data:d},f||{}));case 2:if(a=r.sent,P=a.data,l=a.code,p=a.msg,l===200){r.next=8;break}throw new Error(p);case 8:return r.abrupt("return",P);case 9:case"end":return r.stop()}},u)}));return function(d,f){return A.apply(this,arguments)}}(),X=function(){var A=s()(g()().mark(function u(d,f){var a,P,l,p;return g()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,K.request)("/api/platform/edit",k()({method:"POST",headers:{"Content-Type":"text/plain"},data:d},f||{}));case 2:if(a=r.sent,P=a.data,l=a.code,p=a.msg,l===200){r.next=8;break}throw new Error(p);case 8:return r.abrupt("return",P);case 9:case"end":return r.stop()}},u)}));return function(d,f){return A.apply(this,arguments)}}()},7684:function(ae,z,t){t.d(z,{SM:function(){return u},dT:function(){return S},zQ:function(){return X}});var Q=t(15009),g=t.n(Q),J=t(97857),k=t.n(J),H=t(99289),s=t.n(H),K=t(80854);function S(f,a){return F.apply(this,arguments)}function F(){return F=s()(g()().mark(function f(a,P){var l,p,M,r;return g()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,K.request)("/api/test/qa_withdraw_create",k()({method:"POST",headers:{"Content-Type":"text/plain"},data:a},P||{}));case 2:return l=i.sent,p=l.data,M=l.code,r=l.msg,i.abrupt("return",p);case 7:case"end":return i.stop()}},f)})),F.apply(this,arguments)}function X(f,a){return A.apply(this,arguments)}function A(){return A=s()(g()().mark(function f(a,P){var l,p,M,r;return g()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,K.request)("/api/test/qa_deposit_create",k()({method:"POST",headers:{"Content-Type":"text/plain"},data:a},P||{}));case 2:return l=i.sent,p=l.data,M=l.code,r=l.msg,i.abrupt("return",p);case 7:case"end":return i.stop()}},f)})),A.apply(this,arguments)}function u(f,a){return d.apply(this,arguments)}function d(){return d=s()(g()().mark(function f(a,P){var l,p,M,r;return g()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,K.request)("/api/test/qa_confirm",k()({method:"POST",headers:{"Content-Type":"text/plain"},data:a},P||{}));case 2:if(l=i.sent,p=l.data,M=l.code,r=l.msg,M===200){i.next=8;break}throw new Error(r);case 8:return i.abrupt("return",p);case 9:case"end":return i.stop()}},f)})),d.apply(this,arguments)}}}]);
