"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[366],{57096:function(k,P){var e;e={value:!0};var A={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};P.Z=A},58963:function(k,P,e){e.r(P),e.d(P,{default:function(){return Fe}});var A=e(15009),p=e.n(A),G=e(97857),B=e.n(G),$=e(99289),Z=e.n($),K=e(5574),Q=e.n(K),X=e(13260),Y=e(2618),J=e(87547),u=e(1413),j=e(67294),q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},_=q,ee=e(91146),D=function(t,r){return j.createElement(ee.Z,(0,u.Z)((0,u.Z)({},t),{},{ref:r,icon:_}))};D.displayName="LockOutlined";var te=j.forwardRef(D),L=e(91),ne=e(10915),re=e(17093),ae=e(94184),se=e.n(ae),ie=e(34994),T=e(4942),oe=e(98082),le=function(t){var r;return r={},(0,T.Z)(r,t.componentCls,{"&-container":{display:"flex",flex:"1",flexDirection:"column",height:"100%",paddingInline:32,paddingBlock:24,overflow:"auto",background:"inherit"},"&-top":{textAlign:"center"},"&-header":{display:"flex",alignItems:"center",justifyContent:"center",height:"44px",lineHeight:"44px",a:{textDecoration:"none"}},"&-title":{position:"relative",insetBlockStart:"2px",color:"@heading-color",fontWeight:"600",fontSize:"33px"},"&-logo":{width:"44px",height:"44px",marginInlineEnd:"16px",verticalAlign:"top",img:{width:"100%"}},"&-desc":{marginBlockStart:"12px",marginBlockEnd:"40px",color:t.colorTextSecondary,fontSize:t.fontSize},"&-main":{minWidth:"328px",maxWidth:"580px",margin:"0 auto","&-other":{marginBlockStart:"24px",lineHeight:"22px",textAlign:"start"}}}),(0,T.Z)(r,"@media (min-width: @screen-md-min)",(0,T.Z)({},"".concat(t.componentCls,"-container"),{paddingInline:0,paddingBlockStart:32,paddingBlockEnd:24,backgroundRepeat:"no-repeat",backgroundPosition:"center 110px",backgroundSize:"100%"})),r};function ue(a){return(0,oe.Xj)("LoginForm",function(t){var r=(0,u.Z)((0,u.Z)({},t),{},{componentCls:".".concat(a)});return[le(r)]})}var n=e(85893),ce=["logo","message","contentStyle","title","subTitle","actions","children"];function de(a){var t,r=a.logo,o=a.message,m=a.contentStyle,y=a.title,f=a.subTitle,F=a.actions,M=a.children,l=(0,L.Z)(a,ce),z=(0,ne.YB)(),E=l.submitter===!1?!1:(0,u.Z)((0,u.Z)({searchConfig:{submitText:z.getMessage("loginForm.submitText","\u767B\u5F55")}},l.submitter),{},{submitButtonProps:(0,u.Z)({size:"large",style:{width:"100%"}},(t=l.submitter)===null||t===void 0?void 0:t.submitButtonProps),render:function(O,w){var b,Ce=w.pop();if(typeof(l==null||(b=l.submitter)===null||b===void 0?void 0:b.render)=="function"){var C,U;return l==null||(C=l.submitter)===null||C===void 0||(U=C.render)===null||U===void 0?void 0:U.call(C,O,w)}return Ce}}),h=(0,j.useContext)(re.ZP.ConfigContext),d=h.getPrefixCls("pro-form-login"),v=ue(d),g=v.wrapSSR,c=v.hashId,s=function(O){return"".concat(d,"-").concat(O," ").concat(c)},S=(0,j.useMemo)(function(){return r?typeof r=="string"?(0,n.jsx)("img",{src:r}):r:null},[r]);return g((0,n.jsxs)("div",{className:se()(s("container"),c),children:[(0,n.jsxs)("div",{className:"".concat(s("top")," ").concat(c).trim(),children:[y||S?(0,n.jsxs)("div",{className:"".concat(s("header")),children:[S?(0,n.jsx)("span",{className:s("logo"),children:S}):null,y?(0,n.jsx)("span",{className:s("title"),children:y}):null]}):null,f?(0,n.jsx)("div",{className:s("desc"),children:f}):null]}),(0,n.jsxs)("div",{className:s("main"),style:(0,u.Z)({width:328},m),children:[(0,n.jsxs)(ie.A,(0,u.Z)((0,u.Z)({isKeyPressSubmit:!0},l),{},{submitter:E,children:[o,M]})),F?(0,n.jsx)("div",{className:s("main-other"),children:F}):null]})]}))}var H=e(53113),ve=["fieldProps","proFieldProps"],ge=["fieldProps","proFieldProps"],I="text",me=function(t){var r=t.fieldProps,o=t.proFieldProps,m=(0,L.Z)(t,ve);return(0,n.jsx)(H.Z,(0,u.Z)({valueType:I,fieldProps:r,filedConfig:{valueType:I},proFieldProps:o},m))},fe=function(t){var r=t.fieldProps,o=t.proFieldProps,m=(0,L.Z)(t,ge);return(0,n.jsx)(H.Z,(0,u.Z)({valueType:"password",fieldProps:r,proFieldProps:o,filedConfig:{valueType:I}},m))},N=me;N.Password=fe,N.displayName="ProFormComponent";var R=N,W=e(88433),x=e(80854),he=e(38925),V=e(2453),pe=e(67610),xe=e(73935),ye=e(99735),Ae=function(){var t=useEmotionCss(function(r){var o=r.token;return{marginLeft:"8px",color:"rgba(0, 0, 0, 0.2)",fontSize:"24px",verticalAlign:"middle",cursor:"pointer",transition:"color 0.3s","&:hover":{color:o.colorPrimaryActive}}});return _jsxs(_Fragment,{children:[_jsx(AlipayCircleOutlined,{className:t},"AlipayCircleOutlined"),_jsx(TaobaoCircleOutlined,{className:t},"TaobaoCircleOutlined"),_jsx(WeiboCircleOutlined,{className:t},"WeiboCircleOutlined")]})},Se=function(){var t=(0,W.l)(function(r){var o=r.token;return{width:42,height:42,lineHeight:"42px",position:"fixed",right:16,borderRadius:o.borderRadius,":hover":{backgroundColor:o.colorBgTextHover}}});return(0,n.jsx)("div",{className:t,"data-lang":!0,children:x.SelectLang&&(0,n.jsx)(x.SelectLang,{})})},je=function(t){var r=t.content;return(0,n.jsx)(he.Z,{style:{marginBottom:24},message:r,type:"error",showIcon:!0})},Pe=function(){var t=(0,j.useState)(""),r=Q()(t,2),o=r[0],m=r[1],y=(0,x.useModel)("@@initialState"),f=y.initialState,F=y.setInitialState,M=(0,W.l)(function(){return{display:"flex",flexDirection:"column",height:"100vh",overflow:"auto",backgroundImage:"url('https://mdn.alipayobjects.com/yuyan_qk0oxh/afts/img/V-_oS6r-i7wAAAAAAAAAAAAAFl94AQBr')",backgroundSize:"100% 100%"}}),l=(0,x.useIntl)(),z=function(){var h=Z()(p()().mark(function d(){var v,g;return p()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,f==null||(v=f.fetchUserInfo)===null||v===void 0?void 0:v.call(f);case 2:g=s.sent,console.log("fetchUserInfo",g),g&&(0,xe.flushSync)(function(){F(function(S){return B()(B()({},S),{},{currentUser:g})})});case 5:case"end":return s.stop()}},d)}));return function(){return h.apply(this,arguments)}}(),E=function(){var h=Z()(p()().mark(function d(v){var g,c,s;return p()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,Y.x4)(B()({},v));case 3:return g=i.sent,console.log("res",g),ye.e.token=g.access_token,c=l.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),V.ZP.success(c),i.next=10,z();case 10:s=new URL(window.location.href).searchParams,x.history.push(s.get("redirect")||"/"),i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),i.t0.message&&typeof i.t0.message=="string"&&(V.ZP.error(i.t0.message),m(i.t0.message));case 17:case"end":return i.stop()}},d,null,[[0,14]])}));return function(v){return h.apply(this,arguments)}}();return(0,n.jsxs)("div",{className:M,children:[(0,n.jsx)(x.Helmet,{children:(0,n.jsxs)("title",{children:[l.formatMessage({id:"menu.login",defaultMessage:"\u767B\u5F55\u9875"}),"- ",pe.Z.title]})}),(0,n.jsx)(Se,{}),(0,n.jsx)("div",{style:{flex:"1",padding:"32px 0"},children:(0,n.jsxs)(de,{contentStyle:{minWidth:280,maxWidth:"75vw"},logo:(0,n.jsx)("img",{alt:"logo",src:"/logo.png"}),title:"\u5BF9\u51B2\u4EA4\u6613\u7CFB\u7EDF",subTitle:"\u5BF9\u51B2\u4EA4\u6613\u7CFB\u7EDF\u662F\u4E00\u6B3E\u4E13\u4E1A\u7684\u5361\u5BF9\u5361\u7684\u652F\u4ED8\u7CFB\u7EDF",initialValues:{autoLogin:!0},onFinish:function(){var h=Z()(p()().mark(function d(v){return p()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,E(v);case 2:case"end":return c.stop()}},d)}));return function(d){return h.apply(this,arguments)}}(),children:[!!o&&(0,n.jsx)(je,{content:o}),(0,n.jsx)(R,{name:"username",fieldProps:{size:"large",prefix:(0,n.jsx)(J.Z,{})},placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}]}),(0,n.jsx)(R.Password,{name:"password",fieldProps:{size:"large",prefix:(0,n.jsx)(te,{})},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}]})]})}),(0,n.jsx)(X.$_,{})]})},Fe=Pe}}]);
