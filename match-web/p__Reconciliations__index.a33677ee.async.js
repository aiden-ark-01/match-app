"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[414],{292:function(Z,g,t){t.r(g),t.d(g,{default:function(){return K}});var M=t(15009),f=t.n(M),O=t(97857),i=t.n(O),P=t(99289),B=t.n(P),A=t(5574),x=t.n(A),m=t(67294),D=t(43687),T=t(90930),o=t(85322),I=t(2774),C=t(2618),F=t(71230),h=t(15746),r=t(85893),p=function(_){return _.total="\u603B\u7B14\u6570",_.hedge="\u5BF9\u51B2\u7B14\u6570",_.safeguard="\u515C\u5E95\u652F\u51FA",_.thirdParty="\u4E09\u65B9\u652F\u51FA",_.bad="\u574F\u8D26\u652F\u51FA",_.hedgeRate="\u5BF9\u51B2\u7387",_.hedgeFee="\u5BF9\u51B2\u624B\u7EED\u8D39",_.hedgeAmount="\u5BF9\u51B2\u91D1\u989D",_.totalAmount="\u603B\u91D1\u989D",_}(p||{});function K(){var _=m.useState({total:"0",totalAmount:"0.00",hedge:"0",hedgeAmount:"0.00",hedgeRate:"0%",hedgeFee:"0%",safeguard:"0.00",thirdParty:"0.00",bad:"0.00"}),j=x()(_,2),u=j[0],W=j[1],E={title:"\u5BF9\u8D26\u5E73\u8D26",columns:[{title:"\u5546\u6237\u5E73\u53F0",dataIndex:"platform"},{title:"\u4F59\u989D",dataIndex:"balance",search:!1,render:function(e){return(0,r.jsx)("span",{style:{color:+e>0?"green":"red"},children:e})}},{title:"\u5145\u503C",dataIndex:"recharge",search:!1},{title:"\u63D0\u73B0",dataIndex:"withdraw",search:!1},{title:"\u515C\u5E95",dataIndex:"safeguard",search:!1,render:function(e){return(0,r.jsx)("span",{style:{color:"#d9b611"},children:e})}},{title:"\u4E09\u65B9",dataIndex:"thirdParty",search:!1,render:function(e){return(0,r.jsx)("span",{style:{color:"#d97511"},children:e})}}],request:function(){var a=B()(f()().mark(function n(d,v,y){var c,l;return f()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return c=i()(i()({},d),{},{status:+d.status,page:d.current}),s.next=3,(0,C.I2)(c);case 3:return l=s.sent,W(l.platformTotal),s.abrupt("return",{data:l.list,success:!0,total:l.total,pageSize:l.pageSize,current:l.page});case 6:case"end":return s.stop()}},n)}));function e(n,d,v){return a.apply(this,arguments)}return e}()},L=(0,m.useMemo)(function(){for(var a=Object.keys(u),e=[],n=0;n<a.length;n+=3)e.push(a.slice(n,n+3));return e},[u]),R=(0,m.useMemo)(function(){var a=Object.keys(u).filter(function(e){return["hedgeAmount","safeguard","thirdParty","bad"].includes(e)}).map(function(e){return{type:p[e],value:Math.abs(+u[e])}});return console.log(a),{appendPadding:10,data:a,angleField:"value",colorField:"type",radius:.8,label:{type:"inner",offset:"-30%",content:function(n){var d=n.percent;return"".concat((d*100).toFixed(0),"%")},style:{fontSize:14,textAlign:"center"}},interactions:[{type:"element-active"}]}},[u]),U=(0,m.useMemo)(function(){var a=+u.totalAmount,e=+u.bad,n=+u.thirdParty,d=+u.safeguard,v=+u.hedgeFee.replace("%","")/100,y=(a-e-n-d)*v,c=[{type:"\u624B\u7EED\u8D39",value:+y.toFixed(2)},{type:"\u603B\u91D1\u989D",value:a}];return{appendPadding:10,data:c,angleField:"value",colorField:"type",radius:.8,label:{type:"inner",offset:"-30%",content:function(b){var s=b.percent;return"".concat((s*100).toFixed(0),"%")}},interactions:[{type:"element-active"}]}},[u]);return(0,r.jsxs)(T._z,{style:{width:"100%"},children:[(0,r.jsx)(o.Z,{gutter:8,children:L.map(function(a,e){return(0,r.jsx)(F.Z,{gutter:8,children:a.map(function(n,d){return(0,r.jsx)(h.Z,{span:8,children:(0,r.jsx)(o.Z,{title:p[n],bordered:!0,hoverable:!0,type:"inner",children:u[n]})},d)})},e)})}),(0,r.jsx)(o.Z,{gutter:8,children:(0,r.jsxs)(F.Z,{gutter:8,children:[(0,r.jsx)(h.Z,{span:12,children:(0,r.jsx)(o.Z,{bordered:!0,hoverable:!0,type:"inner",children:(0,r.jsx)(D.Z,i()({},R))})}),(0,r.jsx)(h.Z,{span:12,children:(0,r.jsx)(o.Z,{bordered:!0,hoverable:!0,type:"inner",children:(0,r.jsx)(D.Z,i()({},U))})})]})}),(0,r.jsx)(I.Z,{request:E.request,rowKey:"id",search:{labelWidth:"auto"},dateFormatter:"string",headerTitle:E.title,toolBarRender:function(){return[]},columns:E.columns})]})}}}]);
